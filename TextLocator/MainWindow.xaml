<Window x:Class="TextLocator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TextLocator"
        xmlns:rubyer="clr-namespace:Rubyer;assembly=Rubyer"
        mc:Ignorable="d"
        Title="搜索文本定位" Width="1366" Height="768" WindowStartupLocation="CenterScreen" Icon="Resource/App.ico" Loaded="Window_Loaded">
    <Window.Resources>
        <Style x:Key="FileInfoStyle" TargetType="{x:Type ListBoxItem}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBoxItem}">
                        <Grid Height="50" x:Name="grid">
                            <Border Background="{Binding UserBackground}" Width="40" Height="40" CornerRadius="4" HorizontalAlignment="Left" Margin="5 0 0 0">
                                <TextBlock Text="{Binding FileType}" FontSize="23" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            </Border>
                            <Image/>
                            <TextBlock Text="{Binding FileName}" Margin="55 7 0 0" FontSize="13"/>
                            <TextBlock Text="{Binding Info}" Foreground="#808080" Margin="55 30 0 0"/>
                            <TextBlock Text="{Binding Count,StringFormat={}{0}人}" Foreground="#808080" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0 0 5 0"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="grid" Property="Background" Value="#fceeb9"/>
                            </Trigger>
                            <Trigger Property="Selector.IsSelected" Value="true">
                                <Setter TargetName="grid" Property="Background" Value="#fae388"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <!-- DockPanel停靠容器 && Viewbox显示盒子 && Canvas画布 -->
    <DockPanel LastChildFill="True">
        <Viewbox Stretch="Fill">
            <Canvas Width="1366" Height="768">
                <!-- Grid布局 -->
                <StackPanel Width="1366" Height="768">
                    <!-- 头部 -->
                    <StackPanel Orientation="Horizontal" Height="140" VerticalAlignment="Top">
                        <!-- 搜索条件区 -->
                        <StackPanel Width="1000">
                            <!-- 搜索 -->
                            <StackPanel Margin="20,15,0,0" Orientation="Horizontal" >
                                <!-- 搜索框 -->
                                <TextBox x:Name="Keywords" Width="500" Height="36" FontSize="20" HorizontalAlignment="Left" VerticalContentAlignment="Center" BorderThickness="1" BorderBrush="Green">
                                    <TextBox.Resources>
                                        <VisualBrush x:Key="HintText" TileMode="None" Opacity="0.5" Stretch="None" AlignmentX="Left">
                                            <VisualBrush.Visual>
                                                <TextBlock Text="请输入搜索关键词" FontSize="20"/>
                                            </VisualBrush.Visual>
                                        </VisualBrush>
                                        <Style TargetType="{x:Type Border}">
                                            <Setter Property="CornerRadius" Value="4"/>
                                            <Setter Property="BorderBrush" Value="#c1d0dc"/>
                                        </Style>
                                    </TextBox.Resources>
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Style.Triggers>
                                                <Trigger Property="Text" Value="{x:Null}">
                                                    <Setter Property="Background" Value="{StaticResource HintText}"/>
                                                </Trigger>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="Background" Value="{StaticResource HintText}"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                                <!-- 搜索按钮 -->
                                <Button x:Name="SearchButton" Content="搜索" Margin="10,0,0,0" Width="150" Height="35" Click="SearchButton_Click"/>
                                <!-- 清空按钮 -->
                                <Button x:Name="CleanButton" Content="清空" Margin="10,0,0,0" Width="150" Height="35" Background="Red"/>
                            </StackPanel>
                            <!-- 其他条件 -->
                            <StackPanel Margin="20,10,0,0" Orientation="Horizontal" >
                                <!-- 复选框 -->
                                <StackPanel>
                                    <Grid Margin="0,6,0,0">
                                        <!-- 匹配大小写 -->
                                        <CheckBox Content="匹配大小写" FontSize="16" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>
                                        <!-- 匹配全词 -->
                                        <CheckBox Content="匹配全词" FontSize="16" Margin="150,0,0,0" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>
                                    </Grid>
                                    <Grid Margin="0,14,0,0">
                                        <!-- 匹配原始值 -->
                                        <CheckBox Content="匹配原始值" FontSize="16" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>
                                        <!-- 仅文件名 -->
                                        <CheckBox Content="仅文件名" FontSize="16" Margin="150,0,0,0" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>
                                    </Grid>
                                </StackPanel>
                                <!-- 分割线 -->
                                <GridSplitter Margin="30,0,30,0" Grid.Column="1" Width="1" HorizontalAlignment="Stretch" Background="Gray" />
                                <!-- 扩展信息 -->
                                <StackPanel>
                                    <!-- 扩展名 -->
                                    <Grid>
                                        <TextBlock Text="搜索区：" HorizontalAlignment="Left"/>
                                        <ComboBox Margin="50,0,0,0" Width="100" HorizontalAlignment="Left" Height="25">
                                            <ComboBoxItem Content="常用文档" IsSelected="True"/>
                                        </ComboBox>
                                        <Button Content="区域编辑器" Margin="160,0,0,0" Width="100" Height="20" HorizontalAlignment="Left" Background="Gray"/>                                        
                                    </Grid>
                                    <!-- 文件夹 -->
                                    <Grid Margin="0,20,0,0" >
                                        <TextBlock Text="文件夹：" HorizontalAlignment="Left"/>
                                        <TextBox Text="D:\UserData\" IsReadOnly="true" Width="500" Height="20" Margin="50,0,0,0" HorizontalAlignment="Left"/>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                        <!-- 扩展区 -->
                        <StackPanel Width="365"></StackPanel>
                    </StackPanel>
                    <!-- 分割线 -->
                    <GridSplitter Grid.Column="1" Height="1" HorizontalAlignment="Stretch" Background="Gray" />
                    <!-- 中间 -->
                    <StackPanel Orientation="Horizontal" Height="601">
                        <!-- 左边 -->
                        <Grid Width="900" HorizontalAlignment="Left">
                            <!-- 条件和排序 -->
                            <Grid Height="40" VerticalAlignment="Top" Background="#F3F3F3">
                                <TextBlock Text="文件类型：" Margin="20,0,0,0"/>
                                <ComboBox Margin="80,0,0,0" Width="130" HorizontalAlignment="Left" Height="25">
                                    <ComboBoxItem Content="全部" IsSelected="True"/>
                                    <ComboBoxItem Content="Word类型"/>
                                    <ComboBoxItem Content="Excel类型"/>
                                    <ComboBoxItem Content="PowerPoint类型"/>
                                    <ComboBoxItem Content="PDF"/>
                                    <ComboBoxItem Content="XML/HTML"/>
                                    <ComboBoxItem Content="纯文本"/>
                                </ComboBox>

                                <!-- 排序 -->
                                <TextBlock Text="排序：" Margin="0,0,280,0" HorizontalAlignment="Right"/>
                                <Button Content="默认" Margin="0,0,220,0"  Width="60" Height="20" HorizontalAlignment="Right"/>
                                <Button Content="匹配度" Margin="0,0,150,0"  Width="60" Height="20" HorizontalAlignment="Right" Background="Gray"/>

                                <Button Content="时间" Margin="0,0,80,0" Width="60" Height="20" HorizontalAlignment="Right" Background="Gray"/>
                                <Button Content="大小" Margin="0,0,10,0" Width="60" Height="20" HorizontalAlignment="Right" Background="Gray"/>
                            </Grid>
                            <!-- 搜索结果列表 -->
                            <ScrollViewer Margin="0,40,0,0" >
                                <ListBox x:Name="SearchResultList" BorderThickness="1" BorderBrush="#EAEAEB" Background="Transparent">
                                    <!--ItemContainerStyle="{StaticResource UserInfoStyle}"-->
                                    <!--
                                
                                <ListBox.Style>
                                    <Style TargetType="ListBox">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBox">
                                                    <Border x:Name="Bd"  BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="0">
                                                        <ScrollViewer Focusable="False">
                                                            <ItemsPresenter />
                                                        </ScrollViewer>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.Style>
                                
                                -->
                                    <ListBoxItem>
                                        <RichTextBox HorizontalAlignment="Left" VerticalAlignment="Top" Width="875" IsDocumentEnabled="True">
                                            <FlowDocument>
                                                <BlockUIContainer >
                                                    <Grid Width="870" Height="100" HorizontalAlignment="Left" VerticalAlignment="Top">
                                                        <!-- 图标 -->
                                                        <Image Source="/Resource/ext/ext_word.png" Width="60" HorizontalAlignment="Left"/>
                                                        <!-- 文件信息 -->
                                                        <Grid Margin="80,0,0,0">
                                                            <!-- 文件标题、大小、时间 -->
                                                            <Grid VerticalAlignment="Top" Margin="0,10,0,0">
                                                                <!-- 文件名 -->
                                                                <TextBlock Text="教 师 护 导 要 求（20210219）.doc" Foreground="#1A0DAB" HorizontalAlignment="Left"/>
                                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                                    <!-- 文件大小 -->
                                                                    <TextBlock Text="1MB" Foreground="Gray" HorizontalAlignment="Right"/>
                                                                    <TextBlock Text="•" Foreground="Gray" HorizontalAlignment="Right" Margin="20,0,20,0"/>
                                                                    <!-- 文件大小 -->
                                                                    <TextBlock Text="2021-08-31" Foreground="Gray" HorizontalAlignment="Right"/>
                                                                </StackPanel>
                                                            </Grid>

                                                            <!-- 文件夹 -->
                                                            <TextBlock Text="D:\桌面文档\金壕软件科技\教 师 护 导 要 求（20210219）.doc" Margin="0,30,0,0" Foreground="#006621" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                        </Grid>
                                                    </Grid>
                                                </BlockUIContainer>
                                                <!---<Paragraph>
                                                    <Run Text="这是另一段文本"/>
                                                </Paragraph>
                                                <Section >
                                                    <Paragraph>
                                                        <Run Text="这是另一段文本2"/>
                                                        <InlineUIContainer>
                                                            <TextBox Text="12.00"/>
                                                        </InlineUIContainer>
                                                    </Paragraph>
                                                    <Paragraph>
                                                        <Run Text="这是另一段文本3"/>
                                                    </Paragraph>
                                                    <BlockUIContainer >
                                                        <StackPanel Orientation="Horizontal">
                                                            <Label Content="admin" Width="60" Height="30"/>
                                                            <Button Content="添加" Width="60" Height="30" Click="Button_Click" />
                                                        </StackPanel>

                                                    </BlockUIContainer>
                                                </Section>-->
                                            </FlowDocument>
                                        </RichTextBox>
                                    </ListBoxItem>
                                </ListBox>
                            </ScrollViewer>
                        </Grid>
                        <!-- 分割线 -->
                        <GridSplitter Grid.Column="1" Width="1" HorizontalAlignment="Stretch" Background="Gray" />
                        <!-- 右边 -->
                        <Grid Width="464" HorizontalAlignment="Right">
                            <!-- 条件和排序 -->
                            <Grid Height="40" VerticalAlignment="Top" Background="#F3F3F3">
                                <!-- 打开文件 -->
                                <Image Source="/Resource/btn_file.png" ToolTip="打开文件" HorizontalAlignment="Left" Margin="10,5,0,5"/>
                                <!-- 打开文件夹 -->
                                <Image Source="/Resource/btn_folder.png" ToolTip="打开文件夹" HorizontalAlignment="Left" Margin="50,5,0,5"/>
                            </Grid>
                            <!-- 内容预览 -->
                            <ScrollViewer Margin="0,40,0,0">
                                <RichTextBox/>
                            </ScrollViewer>
                        </Grid>
                    </StackPanel>
                    <!-- 分割线 -->
                    <GridSplitter Grid.Column="1" Height="1" HorizontalAlignment="Stretch" Background="Gray" />
                    <!-- 底部 -->
                    <Grid Height="25" Background="#C8C8C8">
                        <ProgressBar Width="150" Margin="10,0,0,0" HorizontalAlignment="Left"
                                     IsIndeterminate="True"
                                                rubyer:ProgressBarHelper.Thickness="20"/>
                        <TextBlock Text="就绪" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                    </Grid>
                </StackPanel>
            </Canvas>
        </Viewbox>
    </DockPanel>
</Window>
